interactions:
- request:
    body: grant_type=refresh_token&client_id=xxx.apps.googleusercontent.com&client_id=xxx&refresh_token=xxx
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '268'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.32.5
      x-goog-api-client:
      - gl-python/3.13.9 auth/2.43.0 cred-type/u
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: "{\n  \"access_token\": \"xxx\",\n
        \ \"expires_in\": 3599,\n  \"scope\": \"https://www.googleapis.com/auth/userinfo.email
        openid https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/sqlservice.login\",\n
        \ \"token_type\": \"Bearer\",\n  \"access_token\": \"xxx\"\n}"
    headers:
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 12 Nov 2025 17:34:22 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":8192,"messages":[{"role":"user","content":[{"type":"image","source":{"data":"iVBORw0KGgoAAAANSUhEUgAAAKYAAAEaAgMAAADmmcReAAAACVBMVEX///8A/wD+AQASdAFKAAAAR0lEQVR42u3YMREAMAjAwC5d6q8mUYkEVuA+8yvIkVr0oghFURRFURRFURRFUdRCkSRJM7u/CEVRFEVRFEVRFEXRpdQXkcaVBRUPn8UJn6QAAAAASUVORK5CYII=","media_type":"image/png","type":"base64"}}]}],"temperature":1.0,"stream":true,"anthropic_version":"vertex-2023-10-16"}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '411'
      content-type:
      - application/json
      host:
      - europe-west1-aiplatform.googleapis.com
      user-agent:
      - AnthropicVertex/Python 0.72.1
      x-stainless-arch:
      - x64
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.72.1
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.9
      x-stainless-stream-helper:
      - messages
      x-stainless-timeout:
      - NOT_GIVEN
    method: POST
    uri: https://europe-west1-aiplatform.googleapis.com/v1/projects/dummy-project/locations/europe-west1/publishers/anthropic/models/claude-haiku-4-5@20251001:streamRawPredict
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/2SOzWrDMBCE734Ks+cYZJOkoGN77aG06T9FCGlJhOWVa61MSvC7V4YYarq3/WaY
        GRyRWJYdxqiPqCLrgQurWcvyAvzTI0hYibBZfpAX6IJFny3G62SxOmnXpmpb7apGNLtaiDrbnZ0z
        4lGNA5+VqPfN+Ny8dIfXjzt6ers/t+7h8fY9G9d1GQzBz0DH6HI3zd0mEOfFID+/NhA59GpAHQOB
        pOT9FUX8TkgGF5iWuY76xIpDixRB3uxznjYnVCaHsAuk1gax6Fm2/7WQ+C+pp6m83lQUvwAAAP//
        SoUEbEFmXjpaeCoogQSVgGoAAAAA//+CqoH6KT4pJz85G3sUYFECCtm8lNQKiDOR5UE+heorSa0A
        KQRTVkpKcAfCXAkAAAD//8LqAmCUliTidwFYCYoLICKoNsOVQe1XRnYA0HYAAAAA//+ir+0Kzvk5
        +UVQJwBtBwAAAP//orPtjnmJOZXAhIxwAAAAAP//oq8DYvJi8kIy4PajRAQAAAD//6JzUGTmgvIj
        cm4BAAAA//+iswOKM/LL4QEBtB4AAAD//6Kz9SXl+UiWAwAAAP//orPlyaBcAA59oN0AAAAA//+i
        r90pCkWpycCCPB09DQJdAgAAAP//oq9LclKLrbA4AgAAAP//on+ONNRT0NIKyS/A4hgAAAAA//+i
        c7qARk1OqpaWlUJQKqqDgM4BAAAA//+id1LRUMYSJgAAAAD//6KvI9zcDIBAE+gOoNUAAAAA//+i
        d9owAqUMp/ySkvxclLhBq0MBAAAA//+icypxKspMzyjBSBwAAAAA//+isyvci1JT8xAVKQAAAP//
        oq/t+ig1FwAAAP//oq/dPpm5qSi+B7sBAAAA//+ic+hrKBsYgLKGJqRJkVqcilSbAQAAAP//orNb
        EotSkUMCAAAA//+is+0FRcCmTFElsgsAAAAA//8aiNq8WCEzT6EkIxWtaAAAAAD//6KzU4LcnSDO
        UQD3CnXArgE6AwAAAP//orMzUjKLC3ISK1MxOzsAAAAA//+idw2WWAypOQAAAAD//6J34zY/JxOl
        iAIAAAD//6K3v8G6kZvXAAAAAP//onMAlGeWZGDGPgAAAP//orcjMjJLUmFZAAAAAP//oncKKEhM
        BtoNtBgAAAD//6KzxUmpJeXAuglUFuXqYetoAgAAAP//wjHikV9AaMAD2EJGuAZmGgAAAP//SkUd
        vMLqLxRJJSR/oAweKaXmpcSXlBblKWEdQqpFGkNCG/Uxs6hF9SIAAAD//0JzFDbPIcspgTUBAAAA
        //8DAGcpWyeHEwAA
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
      cache-control:
      - no-cache
      date:
      - Wed, 12 Nov 2025 17:34:22 GMT
      request-id:
      - req_vrtx_011CV4Q1hMkFxGbFUFRnzi9L
      server:
      - hypercorn-h11
      x-accel-buffering:
      - 'no'
      x-vertex-ai-received-request-id:
      - 410f90f7-7e8a-4521-ac73-b122ddbfc207
    status:
      code: 200
      message: OK
version: 1
