interactions:
- request:
    body: grant_type=refresh_token&client_id=xxx.apps.googleusercontent.com&client_id=xxx&refresh_token=xxx
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '268'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.32.5
      x-goog-api-client:
      - gl-python/3.13.9 auth/2.43.0 cred-type/u
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: "{\n  \"access_token\": \"xxx\",\n
        \ \"expires_in\": 3599,\n  \"scope\": \"https://www.googleapis.com/auth/userinfo.email
        openid https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/sqlservice.login\",\n
        \ \"token_type\": \"Bearer\",\n  \"access_token\": \"xxx\"\n}"
    headers:
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 12 Nov 2025 17:34:38 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":8192,"messages":[{"role":"user","content":[{"type":"text","text":"Invent
      a terrific dog"}]}],"temperature":1.0,"tools":[{"name":"output_structured_data","input_schema":{"properties":{"name":{"title":"Name","type":"string"},"age":{"title":"Age","type":"integer"},"bio":{"title":"Bio","type":"string"}},"required":["name","age","bio"],"title":"Dog","type":"object"}}],"tool_choice":{"type":"tool","name":"output_structured_data"},"stream":true,"anthropic_version":"vertex-2023-10-16"}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '496'
      content-type:
      - application/json
      host:
      - europe-west1-aiplatform.googleapis.com
      user-agent:
      - AsyncAnthropicVertex/Python 0.72.1
      x-stainless-arch:
      - x64
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.72.1
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.9
      x-stainless-stream-helper:
      - messages
      x-stainless-timeout:
      - NOT_GIVEN
    method: POST
    uri: https://europe-west1-aiplatform.googleapis.com/v1/projects/dummy-project/locations/europe-west1/publishers/anthropic/models/claude-haiku-4-5@20251001:streamRawPredict
  response:
    body:
      string: !!binary |
        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
        AAD//wMAcs1xe484AAA=
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
      cache-control:
      - no-cache
      date:
      - Wed, 12 Nov 2025 17:34:39 GMT
      request-id:
      - req_vrtx_011CV4Q2vvqjN28Dd4ywsGEz
      server:
      - hypercorn-h11
      x-accel-buffering:
      - 'no'
    status:
      code: 200
      message: OK
version: 1
